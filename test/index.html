<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PC ì›¹ ì†”ë£¨ì…˜ ê²¬ì  ìƒì„¸</title>
    <style>
      /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
        color: #333;
        line-height: 1.6;
        padding-bottom: 80px; /* ê³ ì • í•˜ë‹¨ ë°” ë†’ì´ë§Œí¼ ì—¬ë°± ì¶”ê°€ */
      }
      .container {
        max-width: 600px; /* ëª¨ë°”ì¼ í™”ë©´ì— ì í•©í•œ ìµœëŒ€ ë„ˆë¹„ */
        margin: 0 auto;
        padding: 15px;
        background-color: #fff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        overflow: hidden; /* ë‚´ë¶€ ìš”ì†Œì˜ ëª¨ì„œë¦¬ ì²˜ë¦¬ */
      }

      /* --- ê°œì„ ëœ í—¤ë” ìš”ì•½ ë¶€ë¶„ ìŠ¤íƒ€ì¼ --- */
      .header-summary {
        background-color: #fff;
        color: #333;
        padding: 25px 20px;
        border-radius: 12px;
        text-align: center;
        margin-bottom: 15px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        position: relative;
        border: 1px solid #e9ecef;
      }

      .header-summary::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, rgba(0, 123, 255, 0.05) 0%, rgba(0, 123, 255, 0) 70%);
        z-index: 1;
        border-radius: 12px;
      }

      .header-summary > * {
        position: relative;
        z-index: 2;
      }

      .header-summary .project-title-label {
        font-size: 0.9em;
        color: #666;
        margin-bottom: 5px;
        letter-spacing: 0.5px;
      }

      .header-summary .project-name {
        font-size: 1.8em;
        font-weight: 700;
        margin-bottom: 25px;
        color: #007bff;
      }

      .header-summary .summary-details {
        display: flex;
        justify-content: space-around;
        align-items: center;
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 15px 10px;
        border: 1px solid #e9ecef;
      }

      .header-summary .total-price-section,
      .header-summary .vat-info,
      .header-summary .delivery-info {
        flex: 1;
        text-align: center;
        padding: 0 5px;
      }

      .header-summary .total-price-label,
      .header-summary .vat-label,
      .header-summary .delivery-label {
        display: block;
        font-size: 0.8em;
        color: #666;
        margin-bottom: 5px;
      }

      .header-summary .total-price {
        font-size: 1.6em;
        font-weight: bold;
        color: #007bff;
        display: block;
      }

      .header-summary .vat-amount,
      .header-summary .delivery-duration {
        font-size: 1.1em;
        font-weight: 600;
        color: #333;
        display: block;
      }

      /* ëª¨ë°”ì¼ í™”ë©´ ìµœì í™” (ì‘ì€ í™”ë©´ì—ì„œ ì„¸ë¡œë¡œ ë°°ì¹˜) */
      @media (max-width: 420px) {
        .header-summary .summary-details {
          flex-direction: column;
          align-items: stretch;
        }
        .header-summary .total-price-section,
        .header-summary .vat-info,
        .header-summary .delivery-info {
          padding: 10px 0;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .header-summary .delivery-info {
          border-bottom: none;
        }
      }
      /* --- í—¤ë” ìš”ì•½ ë¶€ë¶„ ìŠ¤íƒ€ì¼ ë --- */

      /* --- AI ì¶”ì²œ ê¸°ëŠ¥ í† ê¸€ ìŠ¤íƒ€ì¼ --- */
      .ai-recommendation-toggle {
        background-color: #f0f0f0;
        padding: 15px 20px;
        border-radius: 8px;
        margin-top: 20px;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
      }

      .ai-recommendation-toggle label {
        font-size: 1em;
        color: #555;
        margin-left: 10px;
        cursor: pointer;
      }

      .ai-recommendation-toggle input {
        position: relative;
        width: 40px;
        height: 20px;
        -webkit-appearance: none;
        background: #ccc;
        border-radius: 15px;
        transition: 0.4s;
        cursor: pointer;
      }

      .ai-recommendation-toggle input:checked {
        background: #007bff;
      }

      .ai-recommendation-toggle input::before {
        content: "";
        position: absolute;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        top: 1px;
        left: 1px;
        background: #fff;
        transition: 0.4s;
      }

      .ai-recommendation-toggle input:checked::before {
        transform: translateX(20px);
      }
      /* --- AI ì¶”ì²œ ê¸°ëŠ¥ í† ê¸€ ìŠ¤íƒ€ì¼ ë --- */

      /* --- ê¸°ê°„ ì„ íƒ ì„¹ì…˜ ìŠ¤íƒ€ì¼ --- */
      .duration-selection-section {
        background-color: #f0f0f0;
        padding: 20px;
        border-radius: 12px;
        margin-top: 15px;
        text-align: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      .duration-selection-section .selection-title {
        font-size: 1.2em;
        color: #333;
        margin-bottom: 15px;
        font-weight: bold;
      }

      .duration-display {
        display: flex;
        justify-content: center;
        align-items: flex-end; /* í…ìŠ¤íŠ¸ ë² ì´ìŠ¤ë¼ì¸ ë§ì¶”ê¸° */
        margin-bottom: 20px;
        font-size: 1.6em;
        font-weight: bold;
        color: #007bff; /* ê°•ì¡° ìƒ‰ìƒ */
      }

      .duration-display #selectedWeeks {
        font-size: 1.8em; /* ì£¼ ë‹¨ìœ„ëŠ” ë” í¬ê²Œ */
        color: #007bff;
      }
      .duration-display .unit {
        font-size: 0.8em; /* "ì£¼" ë‹¨ìœ„ëŠ” ì‘ê²Œ */
        margin-left: 5px;
        color: #555;
      }
      .duration-display #selectedEndDate {
        display: block; /* ì¤„ë°”ê¿ˆ */
        font-size: 0.9em;
        color: #777;
        font-weight: normal;
        margin-left: 15px;
      }

      /* Range Slider Styling */
      .week-slider-container {
        width: 90%;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        padding: 0 10px; /* ìŠ¬ë¼ì´ë” ì—„ì§€ ì¢Œìš° ì—¬ë°± */
      }

      .week-slider-container input[type="range"] {
        -webkit-appearance: none; /* Override default look */
        appearance: none;
        width: 100%;
        height: 10px; /* Track height */
        background: #d3d3d3; /* Default track color */
        outline: none;
        opacity: 0.7;
        transition: opacity 0.2s;
        border-radius: 5px;
        margin: 0; /* ê¸°ë³¸ ë§ˆì§„ ì œê±° */
      }

      .week-slider-container input[type="range"]:hover {
        opacity: 1;
      }

      /* Thumb (Slider handle) */
      .week-slider-container input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 24px; /* Thumb width */
        height: 24px; /* Thumb height */
        background: #007bff; /* Thumb color */
        border-radius: 50%; /* Circular thumb */
        cursor: pointer;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        margin-top: -7px; /* Center thumb vertically on track */
        border: 2px solid #fff; /* í°ìƒ‰ í…Œë‘ë¦¬ */
      }

      .week-slider-container input[type="range"]::-moz-range-thumb {
        width: 24px;
        height: 24px;
        background: #007bff;
        border-radius: 50%;
        cursor: pointer;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        border: 2px solid #fff;
      }

      /* Track (Slider background) */
      .week-slider-container input[type="range"]::-webkit-slider-runnable-track {
        width: 100%;
        height: 10px;
        background: #d3d3d3;
        border-radius: 5px;
      }

      .week-slider-container input[type="range"]::-moz-range-track {
        width: 100%;
        height: 10px;
        background: #d3d3d3;
        border-radius: 5px;
      }

      .slider-labels {
        display: flex;
        justify-content: space-between;
        width: 90%;
        margin: 5px auto 0 auto;
        font-size: 0.8em;
        color: #777;
      }

      /* --- ê¸°ê°„ ì„ íƒ ì„¹ì…˜ ìŠ¤íƒ€ì¼ ë --- */

      /* ì•„ì½”ë””ì–¸ ì„¹ì…˜ */
      .accordion-item {
        border: 1px solid #ddd;
        margin-bottom: 10px;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05); /* ì•„ì½”ë””ì–¸ í•­ëª©ì—ë„ ê·¸ë¦¼ì */
      }
      .accordion-header {
        padding: 15px;
        background-color: #f9f9f9;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: bold;
        color: #333;
        border-bottom: 1px solid #eee;
        transition: background-color 0.2s ease; /* í˜¸ë²„/í´ë¦­ íš¨ê³¼ */
      }
      .accordion-header:hover {
        background-color: #f0f0f0;
      }
      .accordion-header.active {
        border-bottom: none;
        background-color: #e0e0e0; /* í™œì„±í™” ì‹œ ìƒ‰ìƒ ë³€ê²½ */
      }
      .accordion-header .arrow-icon {
        font-size: 1.2em;
        transition: transform 0.3s ease;
      }
      .accordion-header.active .arrow-icon {
        transform: rotate(90deg);
      }

      .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out, padding 0.3s ease-out; /* íŒ¨ë”©ë„ ê°™ì´ íŠ¸ëœì§€ì…˜ */
        padding: 0 15px;
        background-color: #fff;
      }
      .accordion-content.open {
        max-height: 500px; /* ì¶©ë¶„íˆ í° ê°’ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë‚´ìš©ì´ ë‹¤ ë³´ì´ê²Œ */
        padding: 15px;
      }

      /* í•­ëª© ë¦¬ìŠ¤íŠ¸ */
      .item-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .item-list li {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px dashed #eee;
      }
      .item-list li:last-child {
        border-bottom: none;
      }
      .item-list .item-name {
        flex-grow: 1;
        font-size: 0.95em;
        color: #444;
      }
      .item-list .item-price {
        font-weight: bold;
        color: #555;
        font-size: 0.95em;
        white-space: nowrap; /* ê¸ˆì•¡ì´ ì¤„ë°”ê¿ˆë˜ì§€ ì•Šë„ë¡ */
        margin-left: 10px; /* ì´ë¦„ê³¼ ê°€ê²© ì‚¬ì´ ê°„ê²© */
      }
      .sub-category-container {
        margin-top: 15px;
        padding-top: 15px;
        border-top: 1px solid #e9ecef;
      }
      .sub-category-container:first-child {
        margin-top: 0;
        padding-top: 0;
        border-top: none;
      }
      .sub-category-header {
        font-size: 1.1em;
        font-weight: bold;
        color: #007bff;
        margin-bottom: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 12px;
        background-color: #f8f9fa;
        border-radius: 6px;
      }
      .sub-category-total {
        font-size: 0.9em;
        color: #555;
        font-weight: normal;
      }
      .item-list .item-detail-btn {
        margin-left: 15px; /* ê°€ê²©ê³¼ ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
        padding: 6px 10px;
        border: 1px solid #007bff; /* íŒŒë€ìƒ‰ í…Œë‘ë¦¬ */
        border-radius: 5px;
        background-color: #007bff; /* íŒŒë€ìƒ‰ ë°°ê²½ */
        color: #fff; /* í°ìƒ‰ ê¸€ì”¨ */
        font-size: 0.8em;
        cursor: pointer;
        text-decoration: none;
        transition: background-color 0.2s, border-color 0.2s;
      }
      .item-list .item-detail-btn:hover {
        background-color: #0056b3;
        border-color: #0056b3;
      }
      .item-list .delete-btn {
        margin-left: 5px;
        background: none;
        border: none;
        color: #dc3545;
        cursor: pointer;
        font-size: 1.1em;
        padding: 0;
      }

      /* --- AI ì¶”ì²œ ê¸°ëŠ¥ í•­ëª© ìŠ¤íƒ€ì¼ ë° ì• ë‹ˆë©”ì´ì…˜ --- */
      .item-list .ai-recommended {
        background-color: #e6f7ff; /* ì—°í•œ íŒŒë€ìƒ‰ ë°°ê²½ */
        border-left: 5px solid #007bff; /* ì™¼ìª½ ê°•ì¡° ì„  */
        color: #0056b3; /* ì§„í•œ íŒŒë€ìƒ‰ ê¸€ì”¨ */
        font-weight: bold;
        padding-left: 10px; /* ì™¼ìª½ ì„  ë•Œë¬¸ì— íŒ¨ë”© ì¶”ê°€ */
        animation: fadeInAndHighlight 0.5s ease-out; /* ì• ë‹ˆë©”ì´ì…˜ ì ìš© */
      }

      /* AI ì¶”ì²œ í•­ëª©ì˜ ì„¸ë¶€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
      .item-list .ai-recommended .item-detail-btn {
        background-color: #0056b3; /* ë” ì§„í•œ íŒŒë€ìƒ‰ */
        border-color: #0056b3;
      }
      .item-list .ai-recommended .item-detail-btn:hover {
        background-color: #003f80;
        border-color: #003f80;
      }

      @keyframes fadeInAndHighlight {
        from {
          opacity: 0;
          transform: translateY(10px);
          background-color: transparent;
          color: #444;
        }
        to {
          opacity: 1;
          transform: translateY(0);
          background-color: #e6f7ff;
          color: #0056b3;
        }
      }

      /* í•˜ë‹¨ ê³ ì • ë°” */
      .sticky-footer {
        position: fixed;
        bottom: 50px; /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ì˜ ë†’ì´ë§Œí¼ ìœ„ë¡œ */
        left: 0;
        width: 100%;
        background-color: #fff;
        color: #333;
        padding: 12px 16px;
        text-align: center;
        box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .sticky-footer .ai-toggle-container {
        width: 100%;
        display: flex;
        justify-content: flex-start;
        padding: 0;
        margin-left: 8px;
      }

      .sticky-footer .main-actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        gap: 12px;
      }

      .sticky-footer .footer-total {
        font-size: 1.1em;
        font-weight: 600;
        color: #222;
        background-color: #f8f9fa;
        padding: 8px 12px;
        border-radius: 8px;
        flex: 1;
      }

      /* AI í† ê¸€ ìŠ¤íƒ€ì¼ ê°œì„  */
      .ai-recommendation-toggle {
        display: flex;
        align-items: center;
        justify-content: flex-start;
        gap: 8px;
        padding: 4px 8px;
        background-color: #f8f9fa;
        border-radius: 8px;
        border: 1px solid #e9ecef;
        transition: all 0.3s ease;
      }

      .ai-recommendation-toggle:hover {
        background-color: #f1f3f5;
      }

      .ai-recommendation-toggle input {
        position: relative;
        width: 36px;
        height: 20px;
        -webkit-appearance: none;
        background: #e9ecef;
        border-radius: 10px;
        transition: 0.3s;
        cursor: pointer;
        margin: 0;
      }

      .ai-recommendation-toggle input:checked {
        background: #007bff;
      }

      .ai-recommendation-toggle input::before {
        content: "";
        position: absolute;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        top: 2px;
        left: 2px;
        background: #fff;
        transition: 0.3s;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .ai-recommendation-toggle input:checked::before {
        transform: translateX(16px);
      }

      .ai-recommendation-toggle label {
        font-size: 0.9em;
        color: #495057;
        font-weight: 500;
        cursor: pointer;
        user-select: none;
        white-space: nowrap;
        margin: 0;
      }

      /* ê²¬ì ì„œ ë°›ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ ê°œì„  */
      .download-button {
        background-color: #007bff;
        color: #fff;
        border: none;
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 0.9em;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        white-space: nowrap;
        box-shadow: 0 2px 6px rgba(0, 123, 255, 0.2);
        min-width: 120px;
      }

      .download-button:hover {
        background-color: #0056b3;
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(0, 123, 255, 0.3);
      }

      .download-button:active {
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(0, 123, 255, 0.2);
      }

      /* ëª¨ë°”ì¼ ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ */
      @media (max-width: 768px) {
        .sticky-footer {
          padding: 8px;
        }

        .sticky-footer .main-actions {
          gap: 8px;
        }

        .sticky-footer .footer-total,
        .download-button {
          font-size: 0.85em;
          padding: 8px;
        }

        .bottom-nav-item {
          font-size: 0.7em;
        }
      }

      /* ë” ì‘ì€ ëª¨ë°”ì¼ í™”ë©´ */
      @media (max-width: 380px) {
        .sticky-footer {
          padding: 6px;
        }

        .sticky-footer .footer-total {
          font-size: 0.8em;
        }

        .download-button {
          font-size: 0.8em;
          min-width: 100px;
        }
      }
      /* --- í•˜ë‹¨ ê³ ì • ë°” ë --- */

      /* --- ëª¨ë‹¬ ìŠ¤íƒ€ì¼ ì‹œì‘ --- */
      .modal {
        display: none;
        position: fixed;
        z-index: 1001;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5); /* ì˜¤ë²„ë ˆì´ ìƒ‰ìƒ ì¢€ ë” ì§„í•˜ê²Œ */
        justify-content: center;
        align-items: center;
        padding: 20px;
        box-sizing: border-box;
      }

      .modal-content {
        background-color: #fefefe;
        margin: auto;
        padding: 25px; /* íŒ¨ë”© ì•½ê°„ ì¦ê°€ */
        border: 1px solid #888;
        border-radius: 12px; /* ëª¨ì„œë¦¬ ë” ë‘¥ê¸€ê²Œ */
        width: 90%;
        max-width: 550px; /* ìµœëŒ€ ë„ˆë¹„ ì•½ê°„ ì¦ê°€ */
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3); /* ê·¸ë¦¼ì ë” ê°•í•˜ê²Œ */
        position: relative;
        animation: fadeIn 0.3s ease-out;
      }

      .close-button {
        color: #999;
        float: right;
        font-size: 30px; /* ë” í¬ê²Œ */
        font-weight: bold;
        position: absolute;
        top: 10px;
        right: 15px;
      }

      .close-button:hover,
      .close-button:focus {
        color: #333;
        text-decoration: none;
        cursor: pointer;
      }

      .modal-content h2 {
        color: #007bff; /* ëª¨ë‹¬ ì œëª© ìƒ‰ìƒ */
        font-size: 1.5em;
        margin-bottom: 20px;
        border-bottom: 2px solid #eee;
        padding-bottom: 10px;
      }

      .detail-section {
        margin-top: 20px;
        line-height: 1.6;
      }
      .detail-section h3 {
        color: #333;
        font-size: 1.1em;
        margin-bottom: 10px;
      }
      .detail-section p {
        margin-bottom: 12px;
        font-size: 0.95em;
      }
      .detail-section strong {
        color: #555;
      }
      #modalItemDescription {
        background-color: #f0f4f7; /* ë°°ê²½ìƒ‰ ë³€ê²½ */
        border: 1px solid #dcdcdc;
        padding: 15px; /* íŒ¨ë”© ì¦ê°€ */
        border-radius: 8px;
        white-space: pre-wrap;
        font-size: 0.9em;
        color: #444;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: scale(0.95);
        } /* ì•½ê°„ ë” ì‘ê²Œ ì‹œì‘ */
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @media (max-width: 480px) {
        .modal-content {
          width: 95%;
          padding: 20px;
        }
        .close-button {
          font-size: 26px;
          top: 8px;
          right: 12px;
        }
        .modal-content h2 {
          font-size: 1.3em;
        }
        #modalItemDescription {
          font-size: 0.85em;
        }
      }
      /* --- ëª¨ë‹¬ ìŠ¤íƒ€ì¼ ë --- */

      /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ */
      .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 50px;
        background-color: #fff;
        display: flex;
        justify-content: space-around;
        align-items: center;
        border-top: 1px solid #e9ecef;
        z-index: 1000;
      }

      .bottom-nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex: 1;
        height: 100%;
        text-decoration: none;
        color: #666;
        font-size: 0.8em;
        gap: 4px;
      }

      .bottom-nav-item.active {
        color: #007bff;
      }

      .bottom-nav-icon {
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .bottom-nav-text {
        font-size: 0.75em;
        margin: 0;
      }

      /* AI ë²„íŠ¼ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
      .ai-buttons-section {
        margin-top: 20px;
        padding: 0 15px;
      }

      .ai-button {
        width: 100%;
        padding: 15px;
        margin-bottom: 10px;
        border: 1px solid #e9ecef;
        border-radius: 12px;
        background-color: #fff;
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 1em;
        color: #333;
        cursor: pointer;
        transition: all 0.2s ease;
        text-align: left;
      }

      .ai-button:last-child {
        margin-bottom: 70px; /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ ë†’ì´ + ì—¬ìœ  ê³µê°„ */
      }

      .ai-button .button-content {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .ai-button .button-title {
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .ai-button .button-description {
        font-size: 0.85em;
        color: #666;
      }

      .ai-button .arrow-icon {
        color: #999;
        font-size: 1.2em;
      }

      .ai-button.consultation {
        background-color: #f8f9fa;
      }

      .ai-button:hover {
        background-color: #f8f9fa;
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      }

      .ai-button.consultation:hover {
        background-color: #f1f3f5;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header-summary">
        <p class="project-title-label">ê²¬ì  í”„ë¡œì íŠ¸</p>
        <h1 class="project-name">PC ì›¹ ì†”ë£¨ì…˜</h1>

        <div class="summary-details">
          <div class="total-price-section">
            <span class="total-price-label">ì´ í•©ê³„</span>
            <span class="total-price">â‚© 27,800,000</span>
          </div>
          <div class="vat-info">
            <span class="vat-label">ë¶€ê°€ì„¸ í¬í•¨</span>
            <span class="vat-amount">â‚© 30,580,000</span>
          </div>
          <div class="delivery-info">
            <span class="delivery-label">ì˜ˆìƒ ê¸°ê°„</span>
            <span class="delivery-duration">30ì£¼ (ì•½ 8ê°œì›”)</span>
          </div>
        </div>
      </div>

      <div class="duration-selection-section">
        <h3 class="selection-title">ì›í•˜ëŠ” ê°œë°œ ê¸°ê°„ì„ ì„ íƒí•˜ì„¸ìš”</h3>
        <div class="duration-display">
          <span id="selectedWeeks">30</span><span class="unit">ì£¼</span>
          <span id="selectedEndDate"> (ì¢…ë£Œ ì˜ˆì •ì¼: 2025ë…„ 7ì›” 15ì¼)</span>
        </div>
        <div class="week-slider-container">
          <input type="range" id="weekSlider" min="4" max="52" value="30" />
        </div>
        <div class="slider-labels">
          <span>4ì£¼</span>
          <span>52ì£¼</span>
        </div>
      </div>
      <div id="accordionContainer"></div>

      <!-- AI ë²„íŠ¼ ì„¹ì…˜ ì¶”ê°€ -->
      <div class="ai-buttons-section">
        <button class="ai-button">
          <div class="button-content">
            <div class="button-title"><span>ğŸ“‰</span>AI ì˜ˆì‚° ì¤„ì´ê¸°</div>
            <div class="button-description">ê¸°ëŠ¥ ê°„ì†Œí™”ë¡œ ì˜ˆì‚°ì„ ì ˆê°í•˜ê³  ì‹¶ë‹¤ë©´?</div>
          </div>
          <span class="arrow-icon">></span>
        </button>

        <button class="ai-button">
          <div class="button-content">
            <div class="button-title"><span>âœ¨</span>AI ë§ì¶¤ ì¶”ì²œ</div>
            <div class="button-description">AIê°€ ë¶„ì„í•œ í•„ìˆ˜ ê¸°ëŠ¥ì„ ë¹ ë¥´ê²Œ í™•ì¸</div>
          </div>
          <span class="arrow-icon">></span>
        </button>

        <button class="ai-button consultation">
          <div class="button-content">
            <div class="button-title"><span>ğŸ“</span>ê²¬ì  ìƒë‹´ìš”ì²­</div>
            <div class="button-description">AIë¥¼ í†µí•´ ë°›ì€ ê²¬ì ìœ¼ë¡œ ìµœì¢… ìƒë‹´ ë°›ì•„ë³´ì„¸ìš”</div>
          </div>
          <span class="arrow-icon">></span>
        </button>
      </div>
    </div>

    <div class="sticky-footer">
      <div class="ai-toggle-container">
        <div class="ai-recommendation-toggle">
          <input type="checkbox" id="aiRecommendToggle" />
          <label for="aiRecommendToggle">AI ì¶”ì²œ ê¸°ëŠ¥ í™œì„±í™”</label>
        </div>
      </div>
      <div class="main-actions">
        <div class="footer-total">ì´ í•©ê³„: â‚© 30,580,000</div>
        <button class="download-button" id="downloadQuoteBtn">ë‚´ ê²¬ì ì„œ ë°›ê¸°</button>
      </div>
    </div>

    <nav class="bottom-nav">
      <a href="#" class="bottom-nav-item active">
        <div class="bottom-nav-icon">ğŸ’¬</div>
        <span class="bottom-nav-text">ê²¬ì ìƒë‹´</span>
      </a>
      <a href="#" class="bottom-nav-item">
        <div class="bottom-nav-icon">ğŸ“‹</div>
        <span class="bottom-nav-text">ë‚˜ì˜ê²¬ì </span>
      </a>
      <a href="#" class="bottom-nav-item">
        <div class="bottom-nav-icon">âš™ï¸</div>
        <span class="bottom-nav-text">ì„¤ì •</span>
      </a>
      <a href="#" class="bottom-nav-item">
        <div class="bottom-nav-icon">ğŸ”</div>
        <span class="bottom-nav-text">í°í™”ë©´</span>
      </a>
    </nav>

    <div id="detailModal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>í•­ëª© ì„¸ë¶€ ë‚´ìš©</h2>
        <div class="detail-section">
          <h3>í•­ëª©ëª…: <span id="modalItemName"></span></h3>
          <p><strong>ì˜ˆìƒ ê¸ˆì•¡:</strong> <span id="modalItemPrice"></span> ì›</p>
          <p><strong>ì„¸ë¶€ ë‚´ìš©:</strong></p>
          <p id="modalItemDescription"></p>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // --- JSON ë°ì´í„° ì •ì˜ ---
        const projectCategoriesData = [
          {
            category_name: "âœ¨ ê¸°ë³¸ ê³µí†µ",
            items: [
              {
                name: "í”„ë¡œì íŠ¸ ê¸°íš",
                price: "4,000,000",
                description:
                  "IT í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•œ ì „ë°˜ì ì¸ ì„¤ê³„ ë‹¨ê³„ì…ë‹ˆë‹¤. ìµœê³ ì˜ ê¸°ìˆ ë ¥ê³¼ ë…¸í•˜ìš°ë¡œ ìµœì ì˜ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ë‹¨ê³„ì—ì„œëŠ” ê³ ê°ì˜ ìš”êµ¬ì‚¬í•­ì„ ì •í™•íˆ íŒŒì•…í•˜ê³ , ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„í•˜ë©°, ê°œë°œ ë¡œë“œë§µì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ ì„±ê³µì˜ í•µì‹¬ ê¸°ë°˜ì„ ë‹¤ì§€ëŠ” ì¤‘ìš”í•œ ê³¼ì •ì…ë‹ˆë‹¤.",
              },
              {
                name: "UI/UX ë””ìì¸",
                price: "4,000,000",
                description:
                  "ìŠ¤í† ë¦¬ë³´ë“œ ê¸°ë°˜ UI/UX ë””ìì¸ì„ ì •ì˜í•©ë‹ˆë‹¤. ì‚¬ìš©ì ê²½í—˜ì„ ìµœìš°ì„ ìœ¼ë¡œ ê³ ë ¤í•œ ì§ê´€ì ì´ê³  ë¯¸ë ¤í•œ ë””ìì¸ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì‰½ê²Œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ê³ , ê¸ì •ì ì¸ ê²½í—˜ì„ í•  ìˆ˜ ìˆë„ë¡ ì‚¬ìš©ì íë¦„, í™”ë©´ êµ¬ì„±, ì‹œê°ì  ìš”ì†Œë¥¼ ì •êµí•˜ê²Œ ì„¤ê³„í•©ë‹ˆë‹¤.",
              },
              {
                name: "í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ",
                price: "4,000,000",
                description:
                  "ë””ìì¸ëœ UI/UX í™”ë©´ì„ ê°œë°œí•©ë‹ˆë‹¤. ìµœì‹  ê¸°ìˆ  ìŠ¤íƒ(React, Vue, Angular ë“±)ì„ í™œìš©í•˜ì—¬ ì‚¬ìš©ì ì¹œí™”ì ì¸ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤. ë°˜ì‘í˜• ì›¹ ê¸°ìˆ ì„ ì ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ë””ë°”ì´ìŠ¤ì—ì„œ ìµœì í™”ëœ í™”ë©´ì„ ì œê³µí•˜ë©°, ë¹ ë¥´ê³  ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ êµ¬ë™ì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.",
              },
              {
                name: "ì„œë²„ ì¸í”„ë¼",
                price: "500,000",
                description:
                  "ê³ ê°ì‚¬ ì„œë²„ ë°°ì¹˜ ê¸°ë°˜ Back / Front ê°œë°œ í™˜ê²½ì„ ì¡°ì„±í•©ë‹ˆë‹¤. ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ ì¸í”„ë¼ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤. í´ë¼ìš°ë“œ í™˜ê²½(AWS, GCP, Azure ë“±) ë˜ëŠ” ì˜¨í”„ë ˆë¯¸ìŠ¤ í™˜ê²½ì— ë§ì¶° ì„œë²„ë¥¼ êµ¬ì„±í•˜ê³ , ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ë° ë„¤íŠ¸ì›Œí¬ ì„¤ì •ì„ ìµœì í™”í•©ë‹ˆë‹¤.",
              },
            ],
          },
          {
            category_name: "ğŸ“± ì‚¬ìš©ì ì•± ê¸°ëŠ¥",
            sub_categories: [
              {
                sub_category_name: "ì¸ì¦",
                items: [
                  {
                    name: "íšŒì›ê°€ì…/ë¡œê·¸ì¸",
                    price: "300,000",
                    description:
                      "ID/PW ê°€ì…í˜•ìœ¼ë¡œ íšŒì›ê°€ì… ë° ì´ìš©ì•½ê´€ ë™ì˜ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ë³´ì•ˆ ê°•í™”ëœ ì¸ì¦ ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤. ì†Œì…œ ë¡œê·¸ì¸(ì¹´ì¹´ì˜¤, ë„¤ì´ë²„, êµ¬ê¸€ ë“±) ì—°ë™ ì˜µì…˜ë„ ì¶”ê°€ ê°€ëŠ¥í•˜ë©°, ê°œì¸ì •ë³´ ë³´í˜¸ë¥¼ ìœ„í•œ ì•”í˜¸í™” ë° ë³´ì•ˆ ì •ì±…ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤.",
                  },
                  {
                    name: "ID ì°¾ê¸°",
                    price: "300,000",
                    description:
                      "ID ì°¾ê¸° (ì˜ˆ: ë’¤ 2ìë¦¬ë§Œ ë³´ì´ëŠ” *ë§ˆìŠ¤í‚¹ ì²˜ë¦¬). ì‚¬ìš©ì í¸ì˜ì„±ì„ ë†’ì´ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ë©”ì¼ ë˜ëŠ” íœ´ëŒ€í° ë³¸ì¸ ì¸ì¦ì„ í†µí•œ ID ì°¾ê¸° ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©ì ë¶ˆí¸ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.",
                  },
                  {
                    name: "PW ì°¾ê¸°",
                    price: "600,000",
                    description:
                      "ë³¸ì¸ ì¸ì¦ í›„ PW ì´ˆê¸°í™” / ë³€ê²½ ì§€ì› ê¸°ëŠ¥. ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬ë¥¼ ë•ìŠµë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì‹œ ê°•ë ¥í•œ ì•”í˜¸ ì •ì±…ì„ ì ìš©í•˜ê³ , ë³´ì•ˆì— ì·¨ì•½í•œ ë¹„ë°€ë²ˆí˜¸ ì‚¬ìš©ì„ ì œí•œí•˜ì—¬ ì‚¬ìš©ì ê³„ì •ì˜ ì•ˆì „ì„ ê°•í™”í•©ë‹ˆë‹¤.",
                  },
                ],
              },
              {
                sub_category_name: "ë§ˆì´í˜ì´ì§€",
                items: [
                  {
                    name: "ë§ˆì´í˜ì´ì§€ ê¸°ë³¸ ê¸°ëŠ¥",
                    price: "600,000",
                    description: "ë¡œê·¸ì•„ì›ƒ, íšŒì›ì •ë³´ ì¡°íšŒ ë“± ê¸°ë³¸ì ì¸ ë§ˆì´í˜ì´ì§€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ìì‹ ì˜ ê³„ì •ì„ ê´€ë¦¬í•˜ëŠ” í•µì‹¬ í˜ì´ì§€ì…ë‹ˆë‹¤.",
                  },
                  {
                    name: "íšŒì›ì •ë³´ ìˆ˜ì •",
                    price: "800,000",
                    description: "ì‚¬ìš©ìê°€ ìì‹ ì˜ ê°œì¸ì •ë³´(ì´ë¦„, ì—°ë½ì²˜ ë“±)ì™€ í”„ë¡œí•„(ì‚¬ì§„, ì†Œê°œê¸€ ë“±)ì„ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.",
                  },
                  {
                    name: "íšŒì›íƒˆí‡´ ê¸°ëŠ¥",
                    price: "400,000",
                    description: "ì‚¬ìš©ìê°€ ì•ˆì „í•˜ê²Œ ì„œë¹„ìŠ¤ë¥¼ íƒˆí‡´í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤. íƒˆí‡´ ì‹œ ë°ì´í„° ì²˜ë¦¬ ì •ì±…ì„ í¬í•¨í•©ë‹ˆë‹¤.",
                  },
                  {
                    name: "ê²°ì œë‚´ì—­ í™•ì¸",
                    price: "600,000",
                    description: "ì‚¬ìš©ìì˜ ê²°ì œ ë‚´ì—­, êµ¬ë… ì •ë³´, ì¹´ë“œ ì •ë³´ ê´€ë¦¬ ë“± ê²°ì œ ê´€ë ¨ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.",
                  },
                ],
              },
              {
                sub_category_name: "ê²€ìƒ‰ ê¸°ëŠ¥",
                items: [
                  {
                    name: "ê²€ìƒ‰",
                    price: "600,000",
                    description:
                      "ì•„ì´í…œëª…/ì„¤ëª… ê²€ìƒ‰. ë¹ ë¥´ê³  ì •í™•í•œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ìë™ ì™„ì„±, ì˜¤íƒ€ êµì •, ê´€ë ¨ ê²€ìƒ‰ì–´ ì¶”ì²œ ë“± ë‹¤ì–‘í•œ ê²€ìƒ‰ ê¸°ëŠ¥ì„ í¬í•¨í•˜ì—¬ ì‚¬ìš©ì í¸ì˜ì„±ì„ ë†’ì…ë‹ˆë‹¤.",
                  },
                  {
                    name: "ìµœê·¼ ê²€ìƒ‰ì–´",
                    price: "600,000",
                    description:
                      "ì‚¬ìš©ìê°€ ìµœê·¼ ê²€ìƒ‰í•œ ê¸°ë¡ì„ ì €ì¥ ë° í‘œì¶œ. í¸ë¦¬í•œ ì¬ê²€ìƒ‰ì„ ë•ìŠµë‹ˆë‹¤. ê²€ìƒ‰ ê¸°ë¡ ì €ì¥ ê°œìˆ˜ ì„¤ì •, ê²€ìƒ‰ ê¸°ë¡ ì‚­ì œ ê¸°ëŠ¥ ë“±ì„ ì œê³µí•˜ì—¬ ì‚¬ìš©ìê°€ ìì‹ ì˜ ê²€ìƒ‰ ì´ë ¥ì„ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                  },
                ],
              },
            ],
          },
          {
            category_name: "âš™ï¸ ê´€ë¦¬ ê¸°ëŠ¥",
            items: [
              {
                name: "ê´€ë¦¬ì ê³„ì •",
                price: "300,000",
                description:
                  "ê´€ë¦¬ì ë¡œê·¸ì¸ ê¸°ëŠ¥ ì œê³µ (ê´€ë¦¬ì íšŒì› ê´€ë¦¬ì—ì„œ ê³„ì • ì¶”ê°€/ì‚­ì œ/íŒ¨ìŠ¤ì›Œë“œ ìˆ˜ì • ê¸°ëŠ¥ ì œê³µ. 'ê´€ë¦¬ ë§¤ë‹ˆì €' í¬ì§€ì…˜ í¬í•¨). ìœ ì—°í•œ ê³„ì • ê´€ë¦¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´(RBAC)ë¥¼ í†µí•´ ê° ê´€ë¦¬ì ê³„ì •ì˜ ê¶Œí•œì„ ì„¸ë¶„í™”í•˜ì—¬ ë³´ì•ˆì„±ì„ ê°•í™”í•©ë‹ˆë‹¤.",
              },
              {
                name: "ëŒ€ì‹œë³´ë“œ",
                price: "900,000",
                description:
                  "ê·¸ë˜í”„ ì—†ì´ ê°„í¸í•œ ì§€í‘œ í˜•íƒœ ëŒ€ì‹œë³´ë“œ. í•µì‹¬ ë°ì´í„°ë¥¼ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ì‹œê°í™”í•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ í˜„í™©, ì‚¬ìš©ì í†µê³„, ë§¤ì¶œ ì§€í‘œ ë“± ì£¼ìš” ì •ë³´ë¥¼ ì‹œê°ì ìœ¼ë¡œ ì œê³µí•˜ì—¬ ê´€ë¦¬ìê°€ ì„œë¹„ìŠ¤ ìš´ì˜ ìƒíƒœë¥¼ ì§ê´€ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.",
              },
              {
                name: "ê´€ë¦¬ì ê´€ë¦¬",
                price: "600,000",
                description:
                  "ê´€ë¦¬ì íšŒì› ìƒì„±, ìˆ˜ì •, ì‚­ì œ ë° ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ê¸°ëŠ¥ ì œê³µ. ê´€ë¦¬ì ê¶Œí•œ ê´€ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê° ê´€ë¦¬ìì—ê²Œ ë¶€ì—¬ëœ ê¶Œí•œì„ ì¡°íšŒí•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ì‹œìŠ¤í…œ ë³´ì•ˆ ë° ìš´ì˜ íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.",
              },
            ],
          },
          {
            category_name: "ğŸ‘¥ íšŒì› ê´€ë¦¬",
            items: [
              {
                name: "ì‚¬ìš©ì ê´€ë¦¬",
                price: "600,000",
                description:
                  "ì‚¬ìš©ì í™œë™ ë¦¬ìŠ¤íŠ¸ (ì¡°íšŒ, ê²€ìƒ‰, í˜ì´ì§•, ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ ì œê³µ). ì‚¬ìš©ì ë°ì´í„° ê´€ë¦¬ë¥¼ ìš©ì´í•˜ê²Œ í•©ë‹ˆë‹¤. ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ, í™œë™ ë‚´ì—­ ëª¨ë‹ˆí„°ë§, í•„ìš” ì‹œ ê³„ì • ì œì¬ ë“± ì„œë¹„ìŠ¤ ìš´ì˜ì— í•„ìš”í•œ ì‚¬ìš©ì ê´€ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.",
              },
            ],
          },
          {
            category_name: "ğŸ“œ ì •ì±… ê´€ë¦¬",
            items: [
              {
                name: "ì•½ê´€ ê´€ë¦¬",
                price: "300,000",
                description:
                  "ì´ìš©ì•½ê´€, ê°œì¸ì •ë³´ ë°©ì¹¨, ì·¨ì†Œ ë° í™˜ë¶ˆ ê·œì • í¬í•¨. ë§ˆì¼€íŒ… í™œìš© ë™ì˜, ì‚¬ì—…ì ì •ë³´ ë“± (ìˆ˜ì • ê¸°ëŠ¥ í¬í•¨, ì—ë””í„° ì ìš©). ë²•ë¥  ì¤€ìˆ˜ë¥¼ ìœ„í•œ í•„ìˆ˜ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì•½ê´€ ë²„ì „ ê´€ë¦¬ ê¸°ëŠ¥ì„ í†µí•´ ë³€ê²½ ì´ë ¥ì„ ì¶”ì í•˜ê³ , ì‚¬ìš©ì ë™ì˜ ì—¬ë¶€ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
              },
            ],
          },
          {
            category_name: "ğŸ’³ ê²°ì œ ê´€ë¦¬",
            items: [
              {
                name: "1ì°¨ PG ì—°ê³„ - ë©”ì´ì € ì´ì§€í˜ì´",
                price: "1,200,000",
                description:
                  "ê¸°ì¡´ PCì‚¬ë¡€ ê°€ì´ë“œì— ë”°ë¼ ëª¨ë“  ê²°ì œ ê´€ë ¨ ì ˆì°¨ë¥¼ interface í•©ë‹ˆë‹¤. ì•ˆì •ì ì¸ ê²°ì œ ì‹œìŠ¤í…œ ì—°ë™ì„ ë³´ì¥í•©ë‹ˆë‹¤. ì‹ ìš©ì¹´ë“œ, ê°€ìƒê³„ì¢Œ, ì‹¤ì‹œê°„ ê³„ì¢Œì´ì²´ ë“± ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ì„ ì—°ë™í•˜ë©°, ê²°ì œ ë³´ì•ˆì„ ìœ„í•œ ì•”í˜¸í™” ë° ì¸ì¦ ì ˆì°¨ë¥¼ ì ìš©í•©ë‹ˆë‹¤.",
              },
              {
                name: "ê²°ì œ ì·¨ì†Œ(í™˜ë¶ˆ)/ë¶€ë¶„ ì·¨ì†Œ",
                price: "600,000",
                description:
                  "êµ­ë‚´ PCì‚¬ë¡€ë¥¼ í†µí•´ ì¹´ë“œ ê²°ì œ ì—°ë™/ê°€ìƒê³„ì¢Œ ê²°ì œ/í•´ì™¸ ê²°ì œ ë“±ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ì·¨ì†Œ/í™˜ë¶ˆ í”„ë¡œì„¸ìŠ¤ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. ê´€ë¦¬ìê°€ ê²°ì œ ë‚´ì—­ì„ í™•ì¸í•˜ê³ , ì „ì²´ ë˜ëŠ” ë¶€ë¶„ ì·¨ì†Œ/í™˜ë¶ˆì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ íš¨ìœ¨ì ì¸ ê³ ê° ì§€ì›ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
              },
              {
                name: "ê²°ì œ ì´ë ¥ ê´€ë¦¬",
                price: "1,200,000",
                description:
                  "ê²°ì œ ì´ë ¥ ê¸°ë°˜ ê´€ë¦¬ (ì¡°íšŒ, ê²€ìƒ‰, í˜ì´ì§•, ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ ì œê³µ). íˆ¬ëª…í•œ ê²°ì œ ë‚´ì—­ ê´€ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ê²°ì œ ë‚´ì—­ê³¼ ìƒíƒœë¥¼ ìƒì„¸í•˜ê²Œ ì¡°íšŒí•˜ê³ , í•„ìš”ì— ë”°ë¼ í•„í„°ë§ ë° í†µê³„ ë¶„ì„ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.",
              },
            ],
          },
          {
            category_name: "ğŸ“ ì½˜í…ì¸  ê´€ë¦¬",
            items: [
              {
                name: "ê³µì§€ ê´€ë¦¬",
                price: "1,200,000",
                description:
                  "ê³µì§€ ê²Œì‹œíŒ ê´€ë¦¬ (ì‘ì„±, ìˆ˜ì •, ì‚­ì œ í¬í•¨, ì›¹ ì—ë””í„° ì ìš©). ì‚¬ìš©ìì—ê²Œ ì¤‘ìš”í•œ ì •ë³´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤. ì´ë¯¸ì§€ ë° ë™ì˜ìƒ ì²¨ë¶€, ì˜ˆì•½ ë°œí–‰, ì¤‘ìš” ê³µì§€ ì„¤ì • ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í†µí•´ íš¨ê³¼ì ì¸ ì •ë³´ ì „ë‹¬ì„ ì§€ì›í•©ë‹ˆë‹¤.",
              },
            ],
          },
        ];

        // AI ì¶”ì²œ í•­ëª© ë°ì´í„° (ê° ì¹´í…Œê³ ë¦¬ë³„ë¡œ ë‹¤ë¥´ê²Œ ì„¤ì • ê°€ëŠ¥)
        const aiRecommendedItems = {
          "âœ¨ ê¸°ë³¸ ê³µí†µ": {
            name: "AI ê¸°ë°˜ ì´ˆê¸°í™” ì„¤ì •",
            price: "800,000",
            description:
              "AIë¥¼ í™œìš©í•˜ì—¬ í”„ë¡œì íŠ¸ ì´ˆê¸° í™˜ê²½ ì„¤ì • ë° ìµœì í™”ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê°œë°œ ì‹œê°„ì„ ë‹¨ì¶•í•˜ê³  ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”í•©ë‹ˆë‹¤.",
          },
          "ğŸ“± ì‚¬ìš©ì ì•± ê¸°ëŠ¥": {
            name: "AI ê¸°ë°˜ ê°œì¸í™” ì¶”ì²œ",
            price: "1,500,000",
            description:
              "ì‚¬ìš©ì í–‰ë™ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ê°œì¸í™”ëœ ì½˜í…ì¸  ë° ìƒí’ˆì„ ì¶”ì²œí•˜ëŠ” AI ëª¨ë“ˆì…ë‹ˆë‹¤. ì‚¬ìš©ì ì°¸ì—¬ìœ¨ê³¼ ì „í™˜ìœ¨ì„ ë†’ì…ë‹ˆë‹¤.",
          },
          "âš™ï¸ ê´€ë¦¬ ê¸°ëŠ¥": {
            name: "AI ê¸°ë°˜ ì´ìƒ ê°ì§€ ì‹œìŠ¤í…œ",
            price: "1,000,000",
            description:
              "ì‹œìŠ¤í…œ ë¡œê·¸ ë° ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ì—¬ ë¹„ì •ìƒì ì¸ í™œë™ì´ë‚˜ ì ì¬ì  ë¬¸ì œë¥¼ AIê°€ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤.",
          },
          "ğŸ‘¥ íšŒì› ê´€ë¦¬": {
            name: "AI ê¸°ë°˜ ê³ ê° ì„¸ë¶„í™” ë¶„ì„",
            price: "700,000",
            description:
              "AIë¥¼ ì´ìš©í•˜ì—¬ ê³ ê° ë°ì´í„°ë¥¼ ì„¸ë¶„í™”í•˜ê³ , ê° ì„¸ê·¸ë¨¼íŠ¸ë³„ íŠ¹ì„±ì„ ë¶„ì„í•˜ì—¬ ë§ì¶¤í˜• ë§ˆì¼€íŒ… ì „ëµ ìˆ˜ë¦½ì„ ì§€ì›í•©ë‹ˆë‹¤.",
          },
          "ğŸ“œ ì •ì±… ê´€ë¦¬": {
            name: "AI ê¸°ë°˜ ì•½ê´€ ë³€ê²½ ì•Œë¦¼",
            price: "400,000",
            description:
              "ì•½ê´€ ë³€ê²½ ì‹œ AIê°€ ì£¼ìš” ë³€ê²½ ì‚¬í•­ì„ ìš”ì•½í•˜ê³ , ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ì„ ë°œì†¡í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ë²•ë¥  ì¤€ìˆ˜ ë° ì‚¬ìš©ì ê³ ì§€ë¥¼ íš¨ìœ¨í™”í•©ë‹ˆë‹¤.",
          },
          "ğŸ’³ ê²°ì œ ê´€ë¦¬": {
            name: "AI ê¸°ë°˜ ë¶€ì • ê±°ë˜ ê°ì§€",
            price: "1,800,000",
            description:
              "ê²°ì œ íŒ¨í„´ì„ AIê°€ í•™ìŠµí•˜ì—¬ ë¶€ì • ê²°ì œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€í•˜ê³  ì°¨ë‹¨í•©ë‹ˆë‹¤. ê¸ˆìœµ ì‚¬ê³ ë¥¼ ì˜ˆë°©í•˜ê³  ë³´ì•ˆì„ ê°•í™”í•©ë‹ˆë‹¤.",
          },
          "ğŸ“ ì½˜í…ì¸  ê´€ë¦¬": {
            name: "AI ê¸°ë°˜ ì½˜í…ì¸  ìë™ ìƒì„±",
            price: "1,200,000",
            description:
              "í‚¤ì›Œë“œë‚˜ ì£¼ì œë¥¼ ì…ë ¥í•˜ë©´ AIê°€ ê´€ë ¨ ì½˜í…ì¸  ì´ˆì•ˆì„ ìë™ìœ¼ë¡œ ìƒì„±í•˜ì—¬ ì œê³µí•©ë‹ˆë‹¤. ì½˜í…ì¸  ì œì‘ ì‹œê°„ì„ ë‹¨ì¶•í•˜ê³  íš¨ìœ¨ì„±ì„ ë†’ì…ë‹ˆë‹¤.",
          },
        };

        // ê¸ˆì•¡ ë¬¸ìì—´ì„ ìˆ«ìë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
        const parsePrice = (priceStr) => {
          return parseInt(priceStr.replace(/,/g, ""), 10);
        };

        // ìˆ«ìë¥¼ ê¸ˆì•¡ í˜•ì‹ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ëŠ” í•¨ìˆ˜
        const formatPrice = (number) => {
          return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        };

        // ì¹´í…Œê³ ë¦¬ë³„ ì´ì•¡ ê³„ì‚° í•¨ìˆ˜
        const calculateCategoryTotal = (category) => {
          if (category.items) {
            return category.items.reduce((total, item) => total + parsePrice(item.price), 0);
          }
          if (category.sub_categories) {
            return category.sub_categories.reduce((total, subCategory) => {
              const subTotal = subCategory.items.reduce((sub, item) => sub + parsePrice(item.price), 0);
              return total + subTotal;
            }, 0);
          }
          return 0;
        };

        // --- ì•„ì½”ë””ì–¸ ë™ì  ìƒì„± ìŠ¤í¬ë¦½íŠ¸ ---
        const accordionContainer = document.getElementById("accordionContainer");

        projectCategoriesData.forEach((category) => {
          const categoryTotal = calculateCategoryTotal(category);

          const accordionItem = document.createElement("div");
          accordionItem.className = "accordion-item";

          const accordionHeader = document.createElement("div");
          accordionHeader.className = "accordion-header";
          accordionHeader.innerHTML = `
            <div class="header-content">
              <span>${category.category_name}</span>
            </div>
            <div style="display: flex; align-items: center;">
              <span class="category-total">â‚© ${formatPrice(categoryTotal)}</span>
              <span class="arrow-icon">></span>
            </div>
          `;
          accordionItem.appendChild(accordionHeader);

          const accordionContent = document.createElement("div");
          accordionContent.className = "accordion-content";

          if (category.items) {
            const itemList = document.createElement("ul");
            itemList.className = "item-list";
            itemList.setAttribute("data-category-name", category.category_name);

            category.items.forEach((item) => {
              const listItem = document.createElement("li");
              listItem.innerHTML = `
                <span class="item-name">${item.name}</span>
                <span class="item-price">${item.price}</span>
                <button class="item-detail-btn" data-item-name="${item.name}" data-item-price="${item.price}" data-item-description="${item.description}">ì„¸ë¶€</button>
              `;
              itemList.appendChild(listItem);
            });
            accordionContent.appendChild(itemList);
          } else if (category.sub_categories) {
            category.sub_categories.forEach((subCategory) => {
              const subCategoryContainer = document.createElement("div");
              subCategoryContainer.className = "sub-category-container";

              const subCategoryHeader = document.createElement("h4");
              subCategoryHeader.className = "sub-category-header";
              const subCategoryTotal = subCategory.items.reduce((total, item) => total + parsePrice(item.price), 0);
              subCategoryHeader.innerHTML = `
                <span>${subCategory.sub_category_name}</span>
                <span class="sub-category-total">â‚© ${formatPrice(subCategoryTotal)}</span>
              `;
              subCategoryContainer.appendChild(subCategoryHeader);

              const itemList = document.createElement("ul");
              itemList.className = "item-list";
              itemList.setAttribute("data-category-name", category.category_name);
              itemList.setAttribute("data-subcategory-name", subCategory.sub_category_name);

              subCategory.items.forEach((item) => {
                const listItem = document.createElement("li");
                listItem.innerHTML = `
                  <span class="item-name">${item.name}</span>
                  <span class="item-price">${item.price}</span>
                  <button class="item-detail-btn" data-item-name="${item.name}" data-item-price="${item.price}" data-item-description="${item.description}">ì„¸ë¶€</button>
                `;
                itemList.appendChild(listItem);
              });
              subCategoryContainer.appendChild(itemList);
              accordionContent.appendChild(subCategoryContainer);
            });
          }

          accordionItem.appendChild(accordionContent);
          accordionContainer.appendChild(accordionItem);
        });

        // --- ì•„ì½”ë””ì–¸ í† ê¸€ ìŠ¤í¬ë¦½íŠ¸ (ë™ì ìœ¼ë¡œ ìƒì„±ëœ ìš”ì†Œì—ë„ ì ìš©) ---
        const newAccordionHeaders = document.querySelectorAll(".accordion-header");

        newAccordionHeaders.forEach((header) => {
          header.addEventListener("click", function () {
            const content = this.nextElementSibling;
            const isActive = this.classList.contains("active");

            document.querySelectorAll(".accordion-header").forEach((h) => {
              h.classList.remove("active");
              h.nextElementSibling.classList.remove("open");
              h.nextElementSibling.style.maxHeight = "0";
            });

            if (!isActive) {
              this.classList.add("active");
              content.classList.add("open");
              // content.scrollHeight ëŒ€ì‹ , ìì‹ ìš”ì†Œì˜ ì´ ë†’ì´ë¥¼ ê³„ì‚°í•˜ì—¬ ì •í™•í•œ maxHeight ì„¤ì •
              // AI ì¶”ì²œ í•­ëª©ì´ ì¶”ê°€ë  ê²½ìš° ë†’ì´ê°€ ë‹¬ë¼ì§€ë¯€ë¡œ ë™ì ìœ¼ë¡œ ê³„ì‚°
              content.style.maxHeight = content.scrollHeight + "px";
            } else {
              this.classList.remove("active");
              content.classList.remove("open");
              content.style.maxHeight = "0";
            }
          });
        });

        // --- ëª¨ë‹¬ ìŠ¤í¬ë¦½íŠ¸ (ë™ì ìœ¼ë¡œ ìƒì„±ëœ ìš”ì†Œì—ë„ ì ìš©) ---
        const modal = document.getElementById("detailModal");
        const closeButton = document.querySelector(".close-button");
        const modalItemName = document.getElementById("modalItemName");
        const modalItemPrice = document.getElementById("modalItemPrice");
        const modalItemDescription = document.getElementById("modalItemDescription");

        accordionContainer.addEventListener("click", function (event) {
          if (event.target.classList.contains("item-detail-btn")) {
            const itemName = event.target.getAttribute("data-item-name");
            const itemPrice = event.target.getAttribute("data-item-price");
            const itemDescription = event.target.getAttribute("data-item-description"); // ë²„íŠ¼ì˜ data- ì†ì„±ì—ì„œ ë°”ë¡œ ê°€ì ¸ì˜´

            modalItemName.textContent = itemName;
            modalItemPrice.textContent = itemPrice;
            modalItemDescription.textContent = itemDescription;

            modal.style.display = "flex";
            document.body.style.overflow = "hidden";
          }
        });

        closeButton.addEventListener("click", function () {
          modal.style.display = "none";
          document.body.style.overflow = "";
        });

        window.addEventListener("click", function (event) {
          if (event.target == modal) {
            modal.style.display = "none";
            document.body.style.overflow = "";
          }
        });

        document.addEventListener("keydown", function (event) {
          if (event.key === "Escape" || event.key === "Esc") {
            if (modal.style.display === "flex") {
              modal.style.display = "none";
              document.body.style.overflow = "";
            }
          }
        });

        // --- ì£¼(week) ìŠ¬ë¼ì´ë” ë° ê¸°ê°„ ê³„ì‚° ìŠ¤í¬ë¦½íŠ¸ ---
        const weekSlider = document.getElementById("weekSlider");
        const selectedWeeksSpan = document.getElementById("selectedWeeks");
        const selectedEndDateSpan = document.getElementById("selectedEndDate");

        // ìº˜ë¦°ë” ì‹œì‘ì¼ (ì˜¤ëŠ˜ ë‚ ì§œ)
        const today = new Date();
        const updateDurationDisplay = () => {
          const weeks = parseInt(weekSlider.value, 10);
          selectedWeeksSpan.textContent = weeks;

          const endDate = new Date(today);
          endDate.setDate(today.getDate() + weeks * 7); // ì£¼(weeks)ë¥¼ ì¼(days)ë¡œ ë³€í™˜í•˜ì—¬ ë”í•¨

          const year = endDate.getFullYear();
          const month = endDate.getMonth() + 1; // getMonth()ëŠ” 0ë¶€í„° ì‹œì‘
          const day = endDate.getDate();

          // í˜„ì¬ ë‚ ì§œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°ëœ ì¢…ë£Œ ì˜ˆì •ì¼ì„ í‘œì‹œ
          selectedEndDateSpan.textContent = ` (ì¢…ë£Œ ì˜ˆì •ì¼: ${year}ë…„ ${month}ì›” ${day}ì¼)`;
        };

        // ìŠ¬ë¼ì´ë” ê°’ ë³€ê²½ ì‹œ ì—…ë°ì´íŠ¸
        weekSlider.addEventListener("input", updateDurationDisplay);

        // ì´ˆê¸° ë¡œë“œ ì‹œ ê¸°ê°„ í‘œì‹œ ì—…ë°ì´íŠ¸
        updateDurationDisplay();

        // --- ê²¬ì ì„œ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ ìŠ¤í¬ë¦½íŠ¸ ---
        const downloadQuoteBtn = document.getElementById("downloadQuoteBtn");
        downloadQuoteBtn.addEventListener("click", function () {
          // ì´ ë¶€ë¶„ì— ì‹¤ì œ ê²¬ì ì„œ PDF ë˜ëŠ” ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë¡œì§ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
          // í˜„ì¬ëŠ” ë‹¨ìˆœí•œ ê²½ê³ ì°½ìœ¼ë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.
          alert("ê²¬ì ì„œ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ì€ í˜„ì¬ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.");
          // ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” window.open() ë˜ëŠ” fetch APIë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          // ì˜ˆ: window.open('/api/download-quote?format=pdf', '_blank');
        });

        // --- AI ì¶”ì²œ ê¸°ëŠ¥ í† ê¸€ ìŠ¤í¬ë¦½íŠ¸ ---
        const aiRecommendToggle = document.getElementById("aiRecommendToggle");

        aiRecommendToggle.addEventListener("change", function () {
          const isChecked = this.checked;

          projectCategoriesData.forEach((category) => {
            const categoryName = category.category_name;
            const aiItemData = aiRecommendedItems[categoryName];

            if (category.sub_categories) {
              // 2ëìŠ¤ êµ¬ì¡°ì˜ ê²½ìš°, ê° í•˜ìœ„ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ë¥¼ ì°¾ìŒ
              category.sub_categories.forEach((subCategory) => {
                const itemList = document.querySelector(
                  `.item-list[data-category-name="${categoryName}"][data-subcategory-name="${subCategory.sub_category_name}"]`
                );
                if (itemList) {
                  handleAiRecommendation(itemList, categoryName, isChecked, aiItemData);
                }
              });
            } else {
              // 1ëìŠ¤ êµ¬ì¡°ì˜ ê²½ìš°
              const itemList = document.querySelector(`.item-list[data-category-name="${categoryName}"]`);
              if (itemList) {
                handleAiRecommendation(itemList, categoryName, isChecked, aiItemData);
              }
            }
          });
        });

        function handleAiRecommendation(itemList, categoryName, isChecked, aiItemData) {
          const existingAiItem = itemList.querySelector(".ai-recommended");

          if (isChecked) {
            if (aiItemData && !existingAiItem) {
              const aiListItem = document.createElement("li");
              aiListItem.className = "ai-recommended";
              aiListItem.innerHTML = `
                <span class="item-name">ğŸ’¡ AI ì¶”ì²œ ê¸°ëŠ¥: ${aiItemData.name}</span>
                <span class="item-price">${aiItemData.price}</span>
                <button class="item-detail-btn" 
                        data-item-name="AI ì¶”ì²œ ê¸°ëŠ¥: ${aiItemData.name}" 
                        data-item-price="${aiItemData.price}" 
                        data-item-description="${aiItemData.description}">ì„¸ë¶€</button>
              `;
              // 'ì‚¬ìš©ì ì•± ê¸°ëŠ¥' ì¹´í…Œê³ ë¦¬ì˜ ì²« ë²ˆì§¸ í•˜ìœ„ ì¹´í…Œê³ ë¦¬ì—ë§Œ ì¶”ì²œ í•­ëª© ì¶”ê°€
              if (categoryName === "ğŸ“± ì‚¬ìš©ì ì•± ê¸°ëŠ¥") {
                const firstSubCategoryList = document.querySelector(
                  '.item-list[data-category-name="ğŸ“± ì‚¬ìš©ì ì•± ê¸°ëŠ¥"]'
                );
                if (itemList === firstSubCategoryList) {
                  itemList.appendChild(aiListItem);
                  updateAccordionHeight(itemList);
                }
              } else {
                itemList.appendChild(aiListItem);
                updateAccordionHeight(itemList);
              }
            }
          } else {
            if (existingAiItem) {
              const parentContent = itemList.closest(".accordion-content");
              if (parentContent && parentContent.classList.contains("open")) {
                parentContent.style.maxHeight = parentContent.scrollHeight - existingAiItem.offsetHeight + "px";
                setTimeout(() => {
                  existingAiItem.remove();
                }, 300);
              } else {
                existingAiItem.remove();
              }
            }
          }
        }

        function updateAccordionHeight(itemList) {
          const parentContent = itemList.closest(".accordion-content");
          if (parentContent && parentContent.classList.contains("open")) {
            parentContent.style.maxHeight = parentContent.scrollHeight + "px";
          }
        }
      });
    </script>
  </body>
</html>
